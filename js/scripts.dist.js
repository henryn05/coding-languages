let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t?e.push(t):console.error("Error: Invalid data type. Only objects allowed")}function n(){return e}function o(){document.getElementById("loadingMessage").style.display="block"}function i(){document.getElementById("loadingMessage").style.display="none"}function a(e){return o(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){i(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types.map(function(e){return e.type.name})}).catch(function(e){i(),console.error(e)})}function r(e){void 0===e.height?a(e).then(function(){s(e)}):s(e)}function s(e){let t=document.querySelector(".modal-title"),n=document.querySelector(".modal-body"),o=e.types.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)});t.innerHTML=`<p>${e.name}</p>`,n.innerHTML=`<p class="height">Height: ${e.height}m</p><p class="type">Type: ${o.join(", ")}</p> <img src="${e.imageUrl}" alt="${e.name} class="image">`}return{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".pokemonList"),o=document.createElement("li"),i=document.createElement("button");i.innerText=t.name,i.classList.add("nameButtons","list-group-item"),i.classList.add("btn","btn-primary"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokemonModal"),i.addEventListener("click",function(){r(t)}),o.appendChild(i),n.appendChild(o)},showDetails:r,loadList:function e(){return o(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return i(),e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name.charAt(0).toUpperCase()+e.name.slice(1),detailsUrl:e.url})})}).catch(function(e){i(),console.error(e)})},loadDetails:a,showLoadingMessage:o,hideLoadingMessage:i,setupSearch:function e(){let t=document.getElementById("searchInput"),n=document.querySelectorAll(".list-group-item");t.addEventListener("input",function(){let e=t.value.toLowerCase();n.forEach(function(t){t.innerText.toLowerCase().startsWith(e)?t.style.display="block":t.style.display="none"})})}}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(pokemonRepository.addListItem),pokemonRepository.setupSearch()});